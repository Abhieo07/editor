{% extends 'partials/base.html' %}
{% block title %}Assignment{% endblock %}

{% block content %}

<style>
    button {
        position: absolute;
        left: 50%;
    }
    textarea,input {
        background: inherit;
        height: 100%;
        min-height: 480px;
    }
    #input {
        text-align: center;
        border: 1px solid black;
        display: inline-block;
        border-radius: 4px;
    }
    label {
        display: inline-block;
        background-color: aliceblue;
        margin: 50% 20px 0 0;
        padding: 5px 10px;
        cursor: pointer;
    }

</style>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script>
    $(document).ready(function(){
        $('input[type="file"]').change(function(e){
            var fileName = e.target.files[0].name;
            document.getElementById('Name').innerHTML = fileName
        });
    });
</script>

{% if not last %}

<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="row mt-3">
        <div class="col-md-5" id="input">
            <label for="inputTag">CHOOSE</label for="inputTag"><br>
            <span id="Name">Upload Video</span>
            <input id="inputTag" class="col-md-12 border border-dark p-3 rounded" type="file" name="video" accept="video/mp4,video/x-m4v,video/*" required hidden> 
        </div>
        <div class="col-md-7">
            <textarea name="text" class="col-md-12 border border-dark p-3 rounded" >Insert Text Here!!
            </textarea>
        </div>
    </div>
    <button type="submit" class="btn btn-primary mt-3">Upload</button>
</form>

{% else %}
<div class="row mt-3">
    <div class="col-md-5 border border-dark p-3 rounded">
        <video src="{{ MEDIA_URL }}{{ last.video.url }} " controls></video>
    </div>
    <div class="col-md-7 rounded">
        <textarea  class="col-md-12 border border-dark p-3 rounded">{{ last.text }}
        </textarea>
    </div>
</div>
<button class="btn-success rounded mt-3" disabled readonly>Upload Successfuly</button>

{% endif %}
{% endblock %}